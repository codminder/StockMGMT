<h2>Register</h2>

<form [formGroup]="registerForm" (ngSubmit)="register()">
  <div>
    <label>First Name</label>
    <input formControlName="firstName" type="text" />
    @if (submitted && f['firstName'].errors) {
      <div>
        @if (f['firstName'].errors?.['required']) {
          <small>Name is required</small>
        }
      </div>
    }
  </div>

  <div>
    <label>Last Name</label>
    <input formControlName="lastName" type="text" />
    @if (submitted && f['lastName'].errors) {
      <div>
        @if (f['lastName'].errors?.['required']) {
          <small>Last name is required</small>
        }
      </div>
    }
  </div>

  <div>
    <label>Email</label>
    <input formControlName="email" type="email" />
    @if (submitted && f['email'].errors) {
      <div>
        @if (f['email'].errors?.['required']) {
          <small>Email is required</small>
        }
        @if (f['email'].errors?.['email']) {
          <small>Email must be valid</small>
        }
      </div>
    }
  </div>

  <div>
    <label>Password</label>
    <input formControlName="password" type="password" />
    @if (submitted && f['password'].errors) {
      <div>
        @if (f['password'].errors?.['required']) {
          <small>Password is required</small>
        }
        @if (f['password'].errors?.['minlength']) {
          <small>Password must be at least 6 characters</small>
        }
      </div>
    }
  </div>

  <div>
    <label>Confirm Password</label>
    <input formControlName="confirmPassword" type="password" />
    @if (submitted && f['confirmPassword'].errors) {
      <div>
        @if (f['confirmPassword'].errors?.['required']) {
          <small>Confirmation is required</small>
        }
        @if (registerForm.errors?.['mismatch']) {
          <small>Passwords do not match</small>
        }
      </div>
    }
  </div>

  <button [disabled]="!registerForm.valid" (click)="register()">Register</button>
</form>

<p>Already have an account? <a routerLink="/login">Login</a></p>